주제: 텍스트, 이미지 맞춤형 여행 계획 생성

프로젝트 입/출력 정하기 입력: 
텍스트 (필수): 여행할 나라, 도시, 여행 기간, 선호하는 여행 스타일 등 나라만 입력해도 될 수 있게 예를 들면 "미국 여행 계획 짜줘" 만 입력되도 나오게 여행 사진 
(선택 사항): 이미지 파일 (사진을 통한 도시 추천)

출력: 
텍스트 입력 시: 입력된 나라 혹은 도시의 여행 계획 (텍스트 형태) 
이미지 입력 시: 사진 배경에 어울리는 도시 추천 및 여행 계획 도시 정보 (추천 식당, 관광 명소, 숙소 등)

방법론 정하기
텍스트 입력 처리: 
- extract_city_name() 함수를 사용하여 입력 텍스트에서 도시 이름을 추출합니다. 
- extract_total_days() 함수를 사용하여 입력 텍스트에서 총 여행 일수와 도시별 여행 일수를 추출합니다.
- 랭체인 파서 사용 - 모델은 openai api만 사용 중임.
- 도시 이름과 여행 일수를 기반으로 generate_travel_plan_prompt() 함수를 사용하여 여행 계획 생성 프롬프트를 생성합니다. 
- RAG를 이용 중 duckducksearch 이용 중, 구글맵 api나 블로그 등도 이용 할 예정

이미지 입력 처리: 
analyze_image() 함수를 사용하여 입력 이미지를 분석하고 배경 정보 (바다, 산, 도시 등) 를 파악합니다. 
분석된 배경 정보를 기반으로 도시 리스트를 생성하고, random.choice() 함수를 사용하여 랜덤으로 하나의 도시를 추천합니다. 
추천된 도시와 텍스트 입력에서 추출한 여행 일수를 기반으로 generate_travel_plan_prompt() 함수를 사용하여 여행 계획 생성 프롬프트를 생성합니다.

여행 계획 및 도시 정보 생성: 
generate_travel_plan_prompt() 함수를 사용하여 생성된 프롬프트를 OpenAI의 GPT-4o-mini 모델에 입력하여 여행 계획을 생성합니다. 
generate_city_info_prompt() 함수를 사용하여 도시 정보 (추천 식당, 관광 명소, 숙소 등) 를 요청하는 프롬프트를 생성하고, 
GPT-4o-mini 모델에 입력하여 도시 정보를 생성합니다. 
생성된 여행 계획 및 도시 정보를 텍스트 형태로 출력합니다.

실제로 prompt를 줬을 때 LLM의 응답 (1) 텍스트 입력 예시:
입력 텍스트: "리스본이랑 포르투 각각 4박 5일씩 여행 계획 짜줘"

LLM 응답:

여행 계획: 리스본과 포르투 각각 4박 5일 여행 계획 (상세 일정 포함) 도시 정보: 리스본과 포르투의 추천 식당, 관광 명소, 숙소 등 정보

(2) 이미지 입력 예시:

입력 이미지: 산 사진 (test_image.jpg) 입력 텍스트: "내가 이미지 하나 올릴테니 요런 느낌의 여행지를 추천해주고 여행 계획을 짜줘"

LLM 응답:

추천 도시: 산 관련 아무 도시나 랜덤으로 나오게 예(스위스) 여행 계획: 스위스 5일 여행 계획 (상세 일정 포함) 도시 정보: 스위스의 추천 식당, 관광 명소, 숙소 등 정보

참고:

영상은 11분이나 됩니다..
영상에서 보는 것고 같이 속도가 매우 느립니다..
이것을 개선하기 위한 방법을 생각 중입니다.
이미 비동기 적용을 했습니다.
프롬프트 간결화도 해봤지만 속도는 큰차이가 없어 다시 예전 것으로 돌렸습니다.
캐쉬는 사용하지 않았습니다. 여행 정보를 계속 다르게 보여주기 위해

영상 용량이 너무커 구글 드라이브로 대체합니다.

https://drive.google.com/file/d/1UD2h6nPKuB2tc9yVA0fNQF_gQDmBk-Rz/view?usp=sharing

텍스트 입력만으로도 여행 계획 가능 이미지 입력은 생각이 안날 때 아 요런 느낌의 곳으로 떠나고 싶다 할 때 올리면 여행계획을 짜줍니다. 
OpenAI API는 아직 개발 중인 기술이므로, 완벽한 여행 계획을 생성하지 못할 수도 있습니다. 
프롬프트 수정을 수없이 많이하여 최대한 완벽에 가깝게 나오게 만들고 있습니다. 
사용자는 OpenAI API의 응답을 참고하여 여행 계획을 수정하고 보완할 수 있습니다.
